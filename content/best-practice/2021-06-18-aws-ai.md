---
title: å¦‚ä½•å¿«é€Ÿæ­å»ºä¸€ä¸ª AI è¯†åˆ«å¤„ç†çš„æµæ°´çº¿ï¼Ÿ
description: æä¾›å¼€ç®±å³ç”¨ã€çµæ´»ä¾¿æ·ã€é«˜å¼¹æ€§é«˜å¯ç”¨çš„ AI æ™ºèƒ½è¯†åˆ«å¤„ç†åœºæ™¯â€¦
date: 2021-06-18
thumbnail: https://main.qcloudimg.com/raw/1d0e07d0c3d46dc412ded0ff11e5b20c.jpg
categories:
  - best-practice
authors:
  - susu
tags:
  - Serverless
  - äº‘å‡½æ•°
---



æœ¬æ–‡ä¸ºæ‚¨ä»‹ç»å¦‚ä½•ä½¿ç”¨ ASW ç¼–æ’äº‘å‡½æ•°ä¸ AI äº§å“æœåŠ¡ï¼Œå¿«é€Ÿæ­å»ºä¸€ä¸ª AI æ™ºèƒ½è¯†åˆ«çš„å¤„ç†æµæ°´çº¿ã€‚é€šè¿‡ ASW ç¼–æ’è°ƒç”¨è…¾è®¯äº‘ AI èƒ½åŠ›ï¼Œå®Œæˆ **æ´»ä½“æ£€æµ‹ã€è¯­éŸ³è¯†åˆ«ã€å…³é”®å­—é‡‡æ ·ã€è‡ªåŠ¨å®¡æ ¸** ç­‰ä¸€ç³»åˆ—è‡ªåŠ¨åŒ–è¯†åˆ«è®¤è¯æµç¨‹ï¼Œæä¾›å¼€ç®±å³ç”¨ã€çµæ´»ä¾¿æ·ã€é«˜å¼¹æ€§é«˜å¯ç”¨çš„ AI æ™ºèƒ½è¯†åˆ«å¤„ç†åœºæ™¯ã€‚

å°¤å…¶é€‚åˆç¤¾åŒºäººè„¸è¯†åˆ«ï¼Œé‡‘èäº¤æ˜“äººè„¸æ”¯ä»˜ï¼Œæ™ºèƒ½çº¿ä¸Šå¼€æˆ·ç­‰ AI äººå·¥æ™ºèƒ½åœºæ™¯ã€‚



## 01. ASW å·¥ä½œæµ - ã€ŒAI è¯†åˆ«ã€ç³»ç»Ÿæ¶æ„

åœ¨ã€Œæ™ºèƒ½çº¿ä¸Šå¼€æˆ·ã€çš„åœºæ™¯ä¸­ï¼Œç”¨æˆ·åœ¨åº”ç”¨å®¢æˆ·ç«¯ç™»å½•ï¼Œå®¢æˆ·ç«¯å°†ç”¨æˆ·è§†é¢‘é‡‡é›†åä¸Šä¼ åˆ° COSï¼Œé€šè¿‡ COS è§¦å‘å‡½æ•°è°ƒèµ· ASW å·¥ä½œæµæ‰§è¡Œæ™ºèƒ½è¯†åˆ«å¤„ç†æµç¨‹ã€‚ASW è°ƒç”¨ AI æ´»ä½“äººè„¸ï¼Œå®Œæˆæ´»ä½“äººè„¸è¯†åˆ«ï¼Œé€šè¿‡åç”±äº‘å‡½æ•°å‘åº”ç”¨æœåŠ¡ç«¯æ¨é€è¯­éŸ³æ’­æŠ¥ï¼ˆä¾‹å¦‚æ’­æŠ¥æŸä¸ªéªŒè¯é—®é¢˜ï¼‰ã€‚

æ¨é€æˆåŠŸåé€šè¿‡ä¸æœåŠ¡ç«¯è¿æ¥ï¼Œè°ƒèµ·å®¢æˆ·ç«¯å½•éŸ³èƒ½åŠ›å¯¹ç”¨æˆ·è¿›è¡Œå½•éŸ³ï¼Œå°†å½•éŸ³ç»“æœè¿›è¡Œ AI è¯­éŸ³è¯†åˆ«å¤„ç†ï¼Œå¤„ç†åç”Ÿæˆå¯¹åº”æ–‡å­—ï¼Œé€šè¿‡å…³é”®å­—åˆ¤æ–­ç”¨æˆ·é—®é¢˜ä½œç­”çš„æ­£ç¡®æƒ…å†µï¼Œé€šçŸ¥æœåŠ¡ç«¯å¤„ç†åˆ¤æ–­ç»“æœï¼Œå®Œæˆæ•´ä¸ªæ™ºèƒ½çº¿ä¸Šå¼€æˆ·åœºæ™¯ã€‚

<img src="https://main.qcloudimg.com/raw/de54c60dc197af236c154dab2fbd93a5.png" width="700"/>



## 02. ASW æ–¹æ¡ˆ VS ä¼ ç»Ÿæ–¹æ¡ˆ

<img src="https://main.qcloudimg.com/raw/336fa14746399ced40a39cb18b97211e.png" width="700"/>



**é€šè¿‡ä»¥ä¸Šå¯¹æ¯”ï¼ŒASW ç¼–æ’çš„ä¼˜åŠ¿å¦‚ä¸‹**ï¼š

- ASW å·¥ä½œæµä½¿ç”¨ TCSL å®šä¹‰ç¼–æ’ï¼Œè¯­æ³•ç®€å•ï¼Œé™ä½å­¦ä¹ å’Œä½¿ç”¨æˆæœ¬ï¼Œæå¤§ç¨‹åº¦ä¸Šç¼©çŸ­äº†é¡¹ç›®å‘¨æœŸï¼ŒåŠ å¿«å¼€å‘éƒ¨ç½²ã€‚
- ASW å·¥ä½œæµå¯ä»¥å®ç°é«˜åº¦è‡ªå®šä¹‰çš„å·¥ä½œæµæµç¨‹ï¼Œèƒ½é€‚åº”å¿«é€Ÿå˜åŒ–çš„ä¸šåŠ¡è¯‰æ±‚ï¼Œç¼–æ’æ›´æ–°æ— éœ€è¿ç»´ç»´æŠ¤ï¼Œä¸ºä¸šåŠ¡çš„æŒç»­æ›´æ–°æä¾›äº†å¿«é€Ÿè¿­ä»£çš„èƒ½åŠ›ã€‚
- ASW å·¥ä½œæµæä¾›äº†å‹å¥½çš„ç•Œé¢äº¤äº’è§†å›¾ï¼Œåœ¨è¿è¡Œè°ƒè¯•çš„è¿‡ç¨‹ä¸­ï¼Œèƒ½å¿«é€Ÿå®šä½é—®é¢˜ã€‚
- ASW å·¥ä½œæµç›®å‰ä»ä¸ºå…è´¹é˜¶æ®µï¼Œæ— éœ€æ‰¿æ‹…æœåŠ¡å™¨/é›†ç¾¤ç›¸å…³è´¹ç”¨ã€‚



## 03. å¦‚ä½•åˆ›å»ºã€ŒAI è¯†åˆ«ã€å·¥ä½œæµç¼–æ’ - æ–¹æ¡ˆç¤ºä¾‹

æ¥ä¸‹æ¥å°†ä¸ºå¤§å®¶ä»‹ç»ä¸€ä¸ªã€Œæ™ºèƒ½åœ¨çº¿å¼€æˆ·ã€çš„ ASW å·¥ä½œæµç¼–æ’æµç¨‹ã€‚

ç”¨æˆ·ç™»å½•å®¢æˆ·ç«¯åï¼Œè¿›å…¥å¼€æˆ·æµç¨‹ã€‚æ ¹æ®å¼€æˆ·æµç¨‹çš„æç¤ºï¼Œé‡‡é›†ç”¨æˆ·è§†é¢‘åŠè¯­éŸ³ï¼Œç„¶åå°†é‡‡é›†çš„éŸ³è§†é¢‘è¿›è¡Œ AI å¤„ç†åˆ†æï¼Œæœ€åè¾“å‡ºå¼€æˆ·æˆåŠŸæˆ–å¤±è´¥çš„ç»“æœã€‚

è¿™ä¸ªè¿‡ç¨‹ä¸­æ¶‰åŠèµ„æºå¦‚ä¸‹ï¼š

- **Serverless äº‘å‡½æ•°**ï¼š

- - push-video ç”¨äºç»™åº”ç”¨æœåŠ¡ç«¯æ¨é€æŸä¸ªéŸ³è§†é¢‘é—®é¢˜ã€‚
  - record-request  ç”¨äºå‘åº”ç”¨æœåŠ¡ç«¯å‘èµ·å½•åˆ¶ä»»åŠ¡è¯·æ±‚ã€‚
  - check-result  ç”¨äºåˆ†æè¯­éŸ³è¯†åˆ«çš„ç»“æœã€‚

- **è…¾è®¯äº‘ AI èƒ½åŠ›**ï¼š

- - æ´»ä½“äººè„¸æ£€æµ‹ï¼Œç”¨äºéªŒè¯ç”¨æˆ·çš„èº«ä»½ä¿¡æ¯ï¼šhttps://cloud.tencent.com/document/product/1007/31818
  - è¯­éŸ³è¯†åˆ«ï¼Œç”¨äºå°†ç”¨æˆ·çš„å›ç­”è¯†åˆ«æˆæ–‡å­—ï¼šhttps://cloud.tencent.com/document/product/1093/37823

- **COS å¯¹è±¡å­˜å‚¨**ï¼šç”¨äºå­˜å‚¨ä¸­é—´å½•åˆ¶çš„éŸ³è§†é¢‘ã€‚

- **ASW å·¥ä½œæµï¼š**AI å¤„ç†åˆ†æçš„å·¥ä½œæµï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹å°†ç¼–æ’å¯¹åº”åŠŸèƒ½çš„äº‘å‡½æ•°æˆ– AI æœåŠ¡ã€‚

- **è¿è¡Œè§’è‰²ï¼š**ç”¨äºè¿è¡Œ AI å¤„ç†åˆ†æå·¥ä½œæµã€‚



#### 1. åˆ›å»ºå·¥ä½œæµ

**1. åˆ›å»ºå·¥ä½œæµ**

1. ç™»å½• åº”ç”¨ä¸ç¼–æ’æœåŠ¡æµæ§åˆ¶å°ï¼Œåœ¨å·¥ä½œæµé¡µé¢ï¼Œå•å‡»ã€Œæ–°å»ºã€ï¼Œè¿›å…¥åˆ›å»ºå·¥ä½œæµé¡µé¢ã€‚

- æ§åˆ¶å°åœ°å€ï¼šhttps://console.cloud.tencent.com/asw

2. é€‰æ‹© ã€Œä»£ç åˆ›å»ºã€ï¼Œå®šä¹‰å·¥ä½œæµï¼Œ**ä»£ç ç¤ºä¾‹** è§ä¸‹æ–¹ã€‚

3. ç‚¹å‡»ã€Œä¸‹ä¸€æ­¥ã€ï¼Œåœ¨ã€Œé…ç½®åŸºæœ¬ä¿¡æ¯ã€é¡µé¢å¡«å†™ç›¸å…³åŸºæœ¬ä¿¡æ¯ï¼Œç‚¹å‡»ã€Œå®Œæˆã€ï¼Œå³å¯æˆåŠŸåˆ›å»ºå·¥ä½œæµã€‚



> 1. ä»¥ä¸‹ä»£ç ä»…ä½œä¸ºç¤ºä¾‹å‘ŠçŸ¥æ‰€æ¶‰åŠèµ„æºï¼Œå·¥ä½œæµèŠ‚ç‚¹æ¶‰åŠè°ƒç”¨çš„èµ„æºï¼Œéœ€æŒ‰ä¸šåŠ¡éœ€æ±‚è¿›è¡Œåˆ›å»ºå’Œæ”¹é€ ï¼›
>
> 2. å·¥ä½œæµå®šä¹‰æ¶‰åŠçš„è¯­æ³•è¯·å‚è€ƒï¼šhttps://cloud.tencent.com/document/product/1272/51544ï¼›
>
> 3. åœ¨ä½¿ç”¨åˆ›å»ºè¿‡ç¨‹ä¸­ï¼Œå¦‚éœ€æ›´å¤šæ”¯æŒå¸®åŠ©ï¼Œè¯·åŠ å…¥ä¸‹æ–¹ã€ŒASW ç”¨æˆ·äº¤æµç¾¤ã€ï¼Œä¸æˆ‘ä»¬è”ç³»ã€‚



**ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š**

```

{
  "Comment": "AIå¤„ç†æµæ°´çº¿",
  "StartAt": "Recognition",
  "TimeoutSeconds": 1000,
  "States": {
    "Recognition": {
      "Type": "Task",
      "Comment": "æ´»ä½“äººè„¸",
      "Parameters": {
        "Idcard": "11204416541220243X",
        "Name": "éŸ¦å°å®",
        "VideoBase64": "<VideoBase64>",
        "LivenessType": "SILENT"
      },
      "Resource": "qrn:qcs:asw:ap-guangzhou:123456789:sdk:json:qcloud:faceid:LivenessRecognition",
      "Next": "CheckRecognition"
    },
    "CheckRecognition": {
      "Type": "choice",
      "Comment": "æ ¡éªŒæ´»ä½“äººè„¸æ˜¯å¦æˆåŠŸ",
      "Choices": [{
        "Variable": "$.Result",
        "StringEquals": "Success",
        "Next": "PushVideo"
      }],
      "Default": "Fail"
    },
    "PushVideo": {
      "Type": "Task",
      "Comment": "è¯­éŸ³æ’­æŠ¥",
      "Resource": "qrn:qcs:asw:ap-guangzhou:123456789:sdk:json:qcloud:scf:Invoke/push-video",
      "Next": "RecordRequest"
    },
    "RecordRequest": {
      "Type": "Task",
      "Comment": "å½•åˆ¶è¯·æ±‚",
      "Resource": "qrn:qcs:asw:ap-guangzhou:123456789:sdk:json:qcloud:scf:Invoke/record-request",
      "Next": "Asr"
    },
    "Asr": {
      "Type": "Task",
      "Comment": "è¯­éŸ³è¯†åˆ«",
      "Resource": "qrn:qcs:asw:ap-guangzhou:1253970226:sdk:json:qcloud:asr:CreateRecTask",
      "Parameters": {
        "EngineModelType": "16k_zh",
        "ChannelNum": 1,
        "ResTextFormat": 0,
        "SourceType": 0,
        "Url.$": "$[0].value[0]"
      },
      "OutputPath": "$.Response.Data",
      "Next": "CheckAsr"
    },
    "CheckAsr": {
      "Type": "Task",
      "Comment": "è·å–è¯­éŸ³è¯†åˆ«ç»“æœ",
      "Resource": "qrn:qcs:asw:ap-guangzhou:1253970226:sdk:json:qcloud:asr:checkASR",
      "Parameters": {
        "TaskId.$": "$.TaskId"
      },
      "Next": "VerifyTask"
    },
    "VerifyTask": {
      "Type": "Task",
      "Comment": "å‡½æ•°åˆ¤æ–­æ‰§è¡Œçš„è¯­éŸ³ç»“æœæ˜¯å¦æ­£ç¡®",
      "Resource": "qrn:qcs:asw:ap-guangzhou:123456789:sdk:json:qcloud:scf:Invoke/verify-result",
      "End": true
    },
    "Fail": {
      "Type": "Task",
      "Comment": "é”™è¯¯å¤„ç†",
      "Resource": "qrn:qcs:asw:ap-guangzhou:123456789:sdk:json:qcloud:scf:Invoke/task-fail",
      "End": true
    }
  }
}
```



#### 2. è¿è¡Œå·¥ä½œæµ

ã€Œè¿è¡Œå·¥ä½œæµã€æ“ä½œæµç¨‹è¯·å‚è€ƒ [ã€Šä½¿ç”¨ ASW å·¥ä½œæµç¼–æ’å‡½æ•°ã€‹](http://mp.weixin.qq.com/s?__biz=Mzg4NzEyMzI1NQ==&mid=2247490809&idx=1&sn=8007d0d699ffda7c76bafc3248215271&chksm=cf8e60a1f8f9e9b79ee7155c70e50a21fd57b3eb86ab4f454b400881b09d31d1afb4083ba356&scene=21#wechat_redirect)ä¸­ 03.3 çš„è®²è§£ã€‚



------



ASW å·¥ä½œæµæ˜¯ä¸€ä¸ªç”¨æ¥åè°ƒåˆ†å¸ƒå¼ä»»åŠ¡æ‰§è¡Œçš„ç¼–æ’äº§å“ï¼Œæ ¹æ®è…¾è®¯äº‘çŠ¶æ€è¯­è¨€å®šä¹‰æ¥ç¼–æ’åˆ†å¸ƒå¼ä»»åŠ¡å’ŒæœåŠ¡ï¼Œå·¥ä½œæµä¼šæŒ‰ç…§è®¾å®šå¥½çš„é¡ºåºå¯é åœ°åè°ƒæ‰§è¡Œï¼Œå°†äº‘å‡½æ•°ä¸å¤šä¸ªè…¾è®¯äº‘æœåŠ¡æŒ‰æ­¥éª¤è¿›è¡Œè°ƒåº¦ï¼Œé€šè¿‡ä½ä»£ç é…ç½®ï¼Œå°±å¯ä»¥å®Œæˆå¼€å‘å’Œè¿è¡Œä¸šåŠ¡æµç¨‹æ‰€éœ€è¦çš„ä»»åŠ¡åè°ƒã€çŠ¶æ€ç®¡ç†ä»¥åŠé”™è¯¯å¤„ç†ç­‰ç¹çå·¥ä½œã€‚



<img src="https://main.qcloudimg.com/raw/e1b0b1b13b3bd02afa03a81d77b73ac2.jpg" width="700"/>



è¯†åˆ«ä¸‹æ–¹ ğŸ‘‡ äºŒç»´ç ï¼Œå³å¯åŠ å…¥è…¾è®¯äº‘ ASW äº¤æµç¾¤ã€‚

<img src="https://main.qcloudimg.com/raw/22821ff9d923fd60056f2313db287a79.png" width="400"/>

------



> **ä¼ é€é—¨ï¼š**
>
> - GitHub: [github.com/serverless](https://github.com/serverless/serverless/blob/master/README_CN.md)
> - å®˜ç½‘ï¼š[serverless.com](https://serverless.com/)

æ¬¢è¿è®¿é—®ï¼š[Serverless ä¸­æ–‡ç½‘](https://serverlesscloud.cn/)ï¼Œæ‚¨å¯ä»¥åœ¨ [æœ€ä½³å®è·µ](https://serverlesscloud.cn/best-practice) é‡Œä½“éªŒæ›´å¤šå…³äº Serverless åº”ç”¨çš„å¼€å‘ï¼