---
title: é©¬æ™“ï¼šServerless SSR åœ¨äººäººè§†é¢‘çš„è½åœ°æ¢ç´¢
description: äººäººè§†é¢‘å‰ç«¯å›¢é˜ŸåŸºäºè…¾è®¯äº‘ Serverless æŠ€æœ¯åœ¨å…¶é¡¹ç›®ä¸­åº”ç”¨ SSR
keywords: Serverless,Serverless Framework,SSR
date: 2020-05-19
thumbnail: https://img.serverlesscloud.cn/2020519/1589879581175-%E4%BA%BA%E4%BA%BA%E8%A7%86%E9%A2%91%E5%89%AF%E6%9C%AC.jpg
categories:
  - best-practice
authors:
  - é©¬æ™“
authorslink:
  - https://zhuanlan.zhihu.com/ServerlessGo
tags:
  - Serverless
  - Serverless SSR
---

## ä½œè€…ç®€ä»‹

![äººäººè§†é¢‘-é©¬æ™“](https://img.serverlesscloud.cn/2020520/1589943794664-1589878075003-%E4%BA%BA%E4%BA%BA%E8%A7%86%E9%A2%91.jpg)

äººäººè§†é¢‘ä¹‹æ‰€ä»¥è€ƒè™‘ SSR æ–¹æ¡ˆï¼Œé¦–å…ˆæ˜¯å› ä¸ºå’Œç™¾åº¦çš„åˆä½œé¡¹ç›®ã€‚

åŸºäºå¯¹æœç´¢å¼•æ“çˆ¬è™«çš„å‹å¥½åº¦è€ƒè™‘ï¼Œä¹Ÿå°±æ˜¯ SEO ä¼˜åŒ–ï¼Œé¡µé¢å¿…é¡»å°½é‡ä¿æŒæ˜¯ç›´å‡ºï¼Œæ–¹ä¾¿èœ˜è››çˆ¬å–ï¼›å…¶æ¬¡ï¼Œåˆä½œæ–¹è¦æ±‚ç”¨æˆ· 1.5 ç§’å†…å¿…é¡»èƒ½æ‰“å¼€é¡µé¢ï¼Œæ‰€ä»¥æŠ€æœ¯ä¾§å¿…é¡»ä¿è¯ç”¨æˆ·æ‰“å¼€é¡µé¢çš„é¦–å¼€æ—¶é—´ã€‚å¦ä¸€æ–¹é¢ï¼Œæ­¤æ¬¡é¡¹ç›®ä»ç«‹é¡¹åˆ°è½åœ°è¦æ±‚ä¸¤å‘¨å†…ä¸Šçº¿ï¼Œä¹‹å‰åœ¨å®¢æˆ·ç«¯æ¸²æŸ“æ–¹é¢ï¼Œæˆ‘ä»¬é€šè¿‡åŸ‹ç‚¹è§‚å¯Ÿè¿‡ç”¨æˆ·æ•°æ®ï¼Œè§‰å¾—å¯èƒ½åœ¨çŸ­æ—¶é—´å†…æ—¢ä¿éšœåŠŸèƒ½å¼€å‘åˆèƒ½èŠ±å¤§ç²¾åŠ›å»ç£¨è¿™ä¸ªä¼˜åŒ–å¯èƒ½ä¸å¤ªç°å®ï¼Œæ‰€ä»¥ç›´æ¥æ•²å®šäº† SSR æ–¹æ¡ˆã€‚

æˆ‘ä»¬å…¬å¸ç›®å‰æŠ€æœ¯å›¢é˜Ÿåˆ†ä¸ºå¤§å‰ç«¯å’Œå¤§åç«¯ï¼Œå…¬å¸å°†ä¸åŒä¸šåŠ¡çº¿åˆ†åˆ«ç‹¬ç«‹è¿ä½œã€‚è´¯ç©¿å¤§å‰ç«¯å’Œå¤§åç«¯ä¸åŒçš„å¼€å‘åŒå­¦è¿›è¡Œè·¨éƒ¨é—¨æˆ–è·¨ä¸šåŠ¡çº¿åä½œï¼Œå¤§å‰ç«¯è´Ÿè´£åç”¨æˆ·ä¾§ç§»åŠ¨ç«¯çš„äº§å“ä½“éªŒï¼Œå¤§åç«¯ä¾§é‡äºæœåŠ¡ç¨³å®šä»¥åŠæ•°æ®ä¾§æ·±è€•ã€‚æŠ€æœ¯æ ˆæ–¹é¢åç«¯ä¸šåŠ¡åŸºäº Java ç”Ÿæ€ä»¥åŠ Python å¤§æ³•ï¼Œå¤§å‰ç«¯æ¯”è¾ƒã€Œäº”èŠ±å…«é—¨ã€ï¼Œç§»åŠ¨ä¾§åŸºäºåŸç”Ÿ `object-c/swift`ï¼Œ`java/kotlin`ï¼ŒWeb ä¾§åŸºäº `Vue å…¨å®¶æ¡¶`ï¼Œ`Nodeç”Ÿæ€`ï¼Œ`php`ï¼Œ`typescript` ç­‰ç­‰ï¼Œä»¥åŠè·¨å¹³å°æŠ€æœ¯ `Flutter` çš„ç›¸å…³å¼•è¿›ã€‚å‰ç«¯åŒå­¦å€ŸåŠ©åç«¯å¸¸è§„ä¸šåŠ¡æ¥å£ï¼Œé€šè¿‡ node è¿›è¡Œæ‹¼è£…è¿‡æ»¤ï¼Œæˆ–è€…ç‹¬ç«‹å¼€å‘ä¸€äº›ä¸šåŠ¡ç±»æ¥å£ï¼ˆå¸¸è§çš„ BFF ç©æ³•ï¼‰ã€‚

å› ä¸ºå›¢é˜Ÿé¡¹ç›®ä¸»è¦æ˜¯åœ¨ Vue ç”Ÿæ€å†…æŠ˜è…¾ï¼Œæ‰€ä»¥é¦–å…ˆæƒ³åˆ°äº†ç°åœ¨å¤§å®¶éƒ½åœ¨ä½¿ç”¨çš„Nuxt æ¡†æ¶ã€‚å…¶æ¬¡è¿˜æœ‰ä¹‹å‰åˆ·çŸ¥ä¹äº†è§£åˆ°çš„ Egg å›¢é˜Ÿæ¨å‡ºçš„ Egg Vue SSRæ–¹æ¡ˆï¼Œæˆ‘ä»¬å¤§è‡´å¯¹æ¯”äº†ä¸€ä¸‹ï¼Œè§‰å¾—éƒ½å€¼å¾—å°è¯•ã€‚ä½†æ˜¯è€ƒè™‘åˆ°å½“æ—¶é¡¹ç›®ä¸Šçº¿æ—¶é—´ç´§è¿«ä»¥åŠæ–‡æ¡£æˆ–è€…è¦†ç›–åº¦é—®é¢˜ï¼Œæ¯”å¦‚é‡åˆ°é—®é¢˜èƒ½å¿«é€Ÿè‡ªä¸»é€šè¿‡æœç´¢æŸ¥é˜…è§£å†³çš„å¯èƒ½æ€§ï¼Œæˆ‘ä»¬æœ€ç»ˆè¿˜æ˜¯å…ˆè¡Œåœ¨è¿™ä¸ªé¡¹ç›®ä¸Šé€‰æ‹©äº† Nuxt æ¡†æ¶ã€‚

å¦ä¸€æ–¹é¢ï¼Œè€ƒè™‘å®Œå¼€å‘é—®é¢˜åï¼Œéƒ¨ç½²å’Œç›‘æ§ä¹Ÿæ˜¯ä¸€ä¸ªé‡ç‚¹ï¼Œèµ·åˆæˆ‘ä»¬æ˜¯ä»¥ pm2 æ–¹å¼å»å®ˆæŠ¤ï¼Œå¦å¤–åœ¨ CVM å±‚é¢æ‰“å…¥æ¢é’ˆå»ç›‘æ§ node è¿›ç¨‹ä»¥åŠæ€§èƒ½ç›¸å…³æ•°æ®ï¼Œè¿™æ–¹é¢å¯¹å¼€å‘æ˜¯ä¸€ç§è€ƒéªŒï¼Œå¯¹è¿ç»´ä¾§ä¹Ÿæ˜¯ä¸€ç§è´Ÿæ‹…ï¼Œæ€»ä½“æ¥è¯´ä»˜å‡ºçš„å¿ƒæ™ºæˆæœ¬æ„Ÿè§‰è¿˜æ˜¯è›®é«˜äº›ï¼Œç„¶åè¿™æ—¶å€™æƒ³åˆ°äº†ä»ä¸Šçº¿ä¹‹åˆå°±å¼€å§‹ä½¿ç”¨çš„äº‘å‡½æ•° SCFï¼Œä»¥åŠå»å¹´åœ¨è…¾è®¯å¼€å‘è€…å¤§ä¼šä¸Šæ¥è§¦åˆ°çš„ Serverless Frameworkï¼Œé€šè¿‡å®˜æ–¹æ–‡æ¡£æŸ¥åˆ°äº†è…¾è®¯äº‘ Serverless å›¢é˜Ÿæœ€è¿‘æ”¯æŒäº† Nuxtï¼Œä¾¿é©¬ä¸Šå’¨è¯¢è…¾è®¯äº‘ Serverless å›¢é˜Ÿç›¸å…³ç»†èŠ‚ï¼Œå†³å®šå°†è¿ç»´ä¾§å¼¹æ€§ä¼¸ç¼©ä¸šåŠ¡ä¿éšœè¿™å—èƒ½åŠ›äº¤ç”±æ›´ä¸“ä¸šçš„å›¢é˜Ÿå»ç®¡ç†ï¼Œè§£æ”¾è¿™è¾¹çš„å¼€å‘é‡å¿ƒã€‚

æ€»ä½“æ¥è¯´ï¼Œè¿™æ¬¡é¡¹ç›®ä¸šåŠ¡ç»“æ„è¿˜æ˜¯è›®ç®€å•çš„ï¼Œä¸šåŠ¡ç»„ä»¶è¿˜æ˜¯ä½¿ç”¨ vue æ­å»ºå¼€å‘ï¼Œæˆ–è€…å¤ç”¨ä¹‹å‰å†…éƒ¨ä¾›ç»™äºç§»åŠ¨ç«¯çš„ Web ç»„ä»¶åº“ï¼Œä¾æ‰˜äº Nuxt æ¡†æ¶å®ç° SSR æ¸²æŸ“ï¼Œç„¶åå¯¹ä¸åŒç»„ä»¶è¿›è¡Œäº†ç›¸å…³ä¸šåŠ¡åŸ‹ç‚¹ï¼Œä»¥åŠæ€§èƒ½åŸ‹ç‚¹ï¼Œå°¤å…¶æ˜¯æ’­æ”¾ç›¸å…³æ•°æ®å’Œ CDN æŒ‡æ ‡é‡ç‚¹åšäº†ç›‘æ§å’Œä¸»å¤‡æ–¹æ¡ˆã€‚åé¢äºŒæœŸé¡¹ç›®ä¼šå¯¹æ’­æ”¾å™¨æ¨¡å—åšä¸€æ¬¡å®šåˆ¶å¼€å‘ï¼Œä»¥åŠé˜²ç›—é“¾æ–¹æ¡ˆåšä¸€æ¬¡ä¼˜åŒ–ï¼Œé¡ºä¾¿ä¼šå¯¹ç”¨æˆ·ç‰¹å¾ï¼Œå¯¹è½¬ç å’Œ CDN éƒ¨ç½²åšä¸€æ¬¡é‡æ–°æ¢³ç†ã€‚

**ä»»ä½•æ–°æŠ€æœ¯çš„è½åœ°ä¸å¯èƒ½æ˜¯ä¸€å¸†é£é¡ºï¼ŒSSR ä¹Ÿæ˜¯å¦‚æ­¤ã€‚**

é¦–å…ˆå°±æ˜¯å¯¹ SSR æ€§èƒ½æˆ‘ä»¬è‡ªèº«èƒ½åšåˆ°å•¥ç¨‹åº¦çš„ä¸€ç§é¡¾è™‘ï¼Œæ‰€ä»¥æˆ‘ä»¬å¼€å§‹æ­£å¼å¼€å‘å‰å…ˆå»æ‹¿æŸç±³çš„ä¸€ä¸ªå’Œæˆ‘ä»¬ä¸šåŠ¡æ¯”è¾ƒåƒçš„ SSR é¡µé¢åšäº†å¯¹æ¯”æµ‹è¯•ï¼Œå› ä¸ºå¹³æ—¶ä¹Ÿæ¯”è¾ƒå–œæ¬¢æ•°ç äº§å“ï¼Œç»å¸¸å›´è§‚è¿™äº›ç½‘ç«™ï¼Œä¹Ÿè§‚å¯Ÿè¿™äº›ç§‘æŠ€å¤§å‚çš„æŠ€æœ¯æ ˆè¿­ä»£ï¼Œæ‰€ä»¥æ‰¾äº†ä¸ªä¹‹å‰ç•™æ„è¿‡çš„ä¸€ä¸ª SSR é¡¹ç›®é¡µé¢ï¼ŒåŒæ—¶è€ƒè™‘åˆ°å¯èƒ½åŒæ ·æ˜¯ Nuxtï¼Œä¿ºä»¬ç¬¬ä¸€æ¬¡å†™å‡ºæ¥çš„ä¸‡ä¸€æ²¡é‚£å‘³ï¼Œæ€§èƒ½å¯èƒ½ä¸å¦‚å¤§å‚æˆç†Ÿçš„ç»è¿‡å¥½å‡ è½®ä¼˜åŒ–çš„ SSR é¡µé¢é¡¹ç›®ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±æ‹¿ Nuxt å¼€å§‹å¯¹ç€å¯¹æ–¹ä¸šåŠ¡è£¸å†™ï¼Œç„¶åå‘å¸ƒåˆ°çº¿ä¸Šï¼Œç„¶åçœŸå®å¯¹æ¯”æ€§èƒ½ï¼Œæ‰¾åˆ°å·®å¼‚å†å»åˆ†æå¯¹æ–¹çš„ä¼˜åŒ–ç­–ç•¥ï¼Œç›´åˆ°å’Œå¯¹æ–¹é¡µé¢æ€§èƒ½å·®ä¸å¤šçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¼€å§‹ä¸Šæ‰‹çœŸå®å†™ä¸šåŠ¡ï¼Œä¹Ÿç®—æ˜¯ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šå‰è¡Œå§ã€‚

åé¢ç”šè‡³å›¢é˜ŸåŒå­¦åœ¨é¡¹ç›®ä¸Šçº¿åï¼Œè‡ªå·±é€šè¿‡å‹æµ‹å’Œå¯¹æ¯”è§‚å¯Ÿé¡µé¢çº¿ä¸Šæ€§èƒ½ï¼Œæœ€å LRU å…œåº•äº†ä¸€å±‚æœåŠ¡ç«¯é¡µé¢ï¼Œé¡µé¢ QPS **å¤§æ¶¨ 20 å€**ï¼Œåå‘è¶…è¶Šäº†ä¸€ä¸‹å‰è¾ˆï¼Œå¯è§åé¢ç€é‡å‘åŠ›ä¸€ä¸‹ serverless å±‚ï¼Œæˆ–è€…å€ŸåŠ©äº‘è‡ªèº«çš„ç”Ÿæ€ï¼Œè¿™å—è¿˜æœ‰è¿›ä¸€æ­¥å¤§çš„æå‡ç©ºé—´ã€‚

å…¶æ¬¡é‡åˆ°çš„æœ€å¤§çš„é—®é¢˜å°±æ˜¯å„ä¸ªæ‰‹æœºå‚å•†çš„æµè§ˆå™¨å¯¹ video çš„å®ç°æ›´åŠ äº”èŠ±å…«é—¨ï¼Œä¹Ÿæœ‰ä¸å°‘å‚å•†ç›´æ¥ hook æ›¿æ¢ä¸ºåŸç”Ÿæ’­æ”¾å™¨çš„ï¼Œè¿™è¾¹åé¢èŠ±äº†å¤§é‡æ—¶é—´åšé€‚é…ï¼›ä»¥åŠå„å®¶å¯¹ CDN æ–‡ä»¶çš„ç¼“å­˜å®ç°ä¸ä¸€è‡´ï¼Œæˆ‘ä»¬æ¥å£ç”¨äº†ä¸€å±‚ cdn å»è½åœ°ï¼Œæœ€åå®æµ‹å‘ç°æœ‰äº›å‚å•†çš„æµè§ˆå™¨ç¼“å­˜ç”šè‡³ä¼šå†™å…¥ SD å­˜å‚¨é‡Œï¼Œå³ä½¿å¸è½½é‡è£…æµè§ˆå™¨ç¼“å­˜ä¾ç„¶å­˜åœ¨ï¼Œå¯¹è¿™ç§æƒ…å†µå¤„ç†çš„ä¹Ÿæ¯”è¾ƒç¹çï¼Œæœ€åä¸¥æ ¼æ§åˆ¶äº†æ¯ä¸ªæ–‡ä»¶çš„ CDN ç¼“å­˜æ—¶é—´ã€‚

å¦ä¸€ä¸ªç‚¹æ˜¯å‘ç‰ˆæµ‹è¯•æˆ–è€…æ˜¯ç°åº¦æ–¹é¢ï¼Œèµ·åˆä½¿ç”¨è…¾è®¯äº‘ serverless çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯æ–°å»ºä¸¤ä¸ªæœåŠ¡ï¼Œä¸€ä¸ªç”¨äºæµ‹è¯•ï¼Œä¸€ä¸ªæ˜¯æ­£å¼ç”Ÿäº§ç¯å¢ƒï¼Œç„¶åé€šè¿‡ API ç½‘å…³ç»‘å®šï¼Œèƒ½ç”¨æ˜¯èƒ½ç”¨ï¼Œå°±æ˜¯æ„Ÿè§‰ä¸å¤ªæ–¹ä¾¿ã€‚åœ¨å¼€å‘åˆ°åæœŸçš„æ—¶å€™ï¼Œè…¾è®¯äº‘å›¢é˜Ÿå‘ŠçŸ¥æˆ‘ä»¬ï¼Œä»–ä»¬ç°åº¦æµé‡çš„æ–¹æ¡ˆä¸Šçº¿äº†ï¼Œé€šè¿‡æ§åˆ¶æµé‡æ¯”æ¥å®ç°æ–°è€ç‰ˆé€æ­¥åˆ‡æ¢ï¼Œæ–¹ä¾¿åŠæ—¶æ„ŸçŸ¥é—®é¢˜ï¼Œç”šè‡³è“ç»¿æµ‹è¯•é‚£ç§æ–¹å¼æ¥å¸®æˆ‘ä»¬å»ä¼˜åŒ–æ‰è¿™æ–¹é¢çš„ä½¿ç”¨ä½“éªŒï¼Œç‚¹ä¸ªèµ ğŸ‘ã€‚

**SSR ä¸ä»…å¯¹ SEO å’Œæ€§èƒ½æœ‰å¸®åŠ©ï¼Œåœ¨å›¢é˜Ÿå†…éƒ¨ä¹Ÿæœ‰ä¸é”™çš„åå“ã€‚**

é¦–å…ˆï¼Œè®©å‰ç«¯åŒå­¦æ›´æ„¿æ„ï¼Œä¹Ÿæ›´å®‰å¿ƒçš„å»æŠŠé‚£äº›é¦–å¼€ä¸æ˜¯å¾ˆæ»¡æ„çš„ä¸šåŠ¡é‡æ„ï¼Œå¦ä¸€æ–¹é¢å‰ç«¯åŒå­¦æ›´æ„¿æ„ä¸€å¹¶å»æŠŠæ¥å£ç›¸å…³ä¸šåŠ¡åŒæ„æ‰ï¼Œå¼€å‘ä½“éªŒæ›´åŠ ä¸€ä½“åŒ–ï¼Œæå¤§çš„ç®€åŒ–äº†è¿ç»´é‚£è¾¹å·¥ä½œï¼ŒèŠ‚çœäº†å¼€å‘æˆæœ¬ï¼Œæé«˜äº†ååŒæ•ˆç‡ã€‚

å¦‚æœè¯»è€…çš„å›¢é˜Ÿè¿˜æ²¡æœ‰åš SSRï¼Œå¸Œæœ›å¤§å®¶å¯ä»¥è¯„ä¼°ä¸€ä¸‹è‡ªèº«çš„ä¸šåŠ¡ç‰¹ç‚¹ï¼Œå¯¹é¦–å±å’Œ SEO æœ‰åˆšéœ€çš„ï¼Œæˆ–è€…æƒ³å†è¿›ä¸€æ­¥ä¼˜åŒ–ç”¨æˆ·ä½“éªŒçš„åŒå­¦ï¼Œå¯ä»¥å°½æ—©å‡†å¤‡èµ·æ¥å°è¯•ä¸€ä¸‹ï¼ŒServerless ä¸‹çš„ SSR æ–¹æ¡ˆè¿˜æ˜¯æŒºä¾¿æ·çš„ï¼Œæ•´ä½“å¼€å‘ä½“éªŒä¸Šå®Œæˆåº¦è¿˜æŒºé«˜ï¼Œæ²¡æœ‰é‡åˆ°è¿‡å¾ˆå¤§çš„å‘ï¼ŒSSR å€ŸåŠ© Serverless è¿™ç§æ–¹å¼ï¼Œç›¸ä¿¡åœ¨ä»Šå¹´ä¼šè¶Šæ¥è¶Šæµè¡Œã€‚

## Serverless Framework 30 å¤©è¯•ç”¨è®¡åˆ’

æˆ‘ä»¬è¯šé‚€æ‚¨æ¥ä½“éªŒæœ€ä¾¿æ·çš„ Serverless å¼€å‘å’Œéƒ¨ç½²æ–¹å¼ã€‚åœ¨è¯•ç”¨æœŸå†…ï¼Œç›¸å…³è”çš„äº§å“åŠæœåŠ¡å‡æä¾›å…è´¹èµ„æºå’Œä¸“ä¸šçš„æŠ€æœ¯æ”¯æŒï¼Œå¸®åŠ©æ‚¨çš„ä¸šåŠ¡å¿«é€Ÿã€ä¾¿æ·åœ°å®ç° Serverlessï¼

> è¯¦æƒ…å¯æŸ¥é˜…ï¼š[Serverless Framework è¯•ç”¨è®¡åˆ’](https://cloud.tencent.com/document/product/1154/38792)

## One More Thing
<div id='scf-deploy-iframe-or-md'><div><p>3 ç§’ä½ èƒ½åšä»€ä¹ˆï¼Ÿå–ä¸€å£æ°´ï¼Œçœ‹ä¸€å°é‚®ä»¶ï¼Œè¿˜æ˜¯ â€”â€” éƒ¨ç½²ä¸€ä¸ªå®Œæ•´çš„ Serverless åº”ç”¨ï¼Ÿ</p><blockquote><p>å¤åˆ¶é“¾æ¥è‡³ PC æµè§ˆå™¨è®¿é—®ï¼š<a href="https://serverless.cloud.tencent.com/deploy/express">https://serverless.cloud.tencent.com/deploy/express</a></p></blockquote><p>3 ç§’æé€Ÿéƒ¨ç½²ï¼Œç«‹å³ä½“éªŒå²ä¸Šæœ€å¿«çš„ Serverless HTTP å®æˆ˜å¼€å‘ï¼</p></div></div>

---

> **ä¼ é€é—¨ï¼š**
> - GitHub: [github.com/serverless](https://github.com/serverless/serverless/blob/master/README_CN.md) 
> - å®˜ç½‘ï¼š[serverless.com](https://serverless.com/)

æ¬¢è¿è®¿é—®ï¼š[Serverless ä¸­æ–‡ç½‘](https://serverlesscloud.cn/)ï¼Œæ‚¨å¯ä»¥åœ¨ [æœ€ä½³å®è·µ](https://serverlesscloud.cn/best-practice) é‡Œä½“éªŒæ›´å¤šå…³äº Serverless åº”ç”¨çš„å¼€å‘ï¼
